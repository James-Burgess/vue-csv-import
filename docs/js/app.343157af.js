(function(e){function t(t){for(var r,u,c=t[0],l=t[1],o=t[2],p=0,v=[];p<c.length;p++)u=c[p],Object.prototype.hasOwnProperty.call(a,u)&&a[u]&&v.push(a[u][0]),a[u]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);i&&i(t);while(v.length)v.shift()();return s.push.apply(s,o||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(r=!1)}r&&(s.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},s=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var i=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a=n("cf05"),s=n.n(a),u={id:"app"},c=Object(r["g"])("img",{alt:"Vue logo",src:s.a},null,-1),l={class:"container"},o=Object(r["g"])("div",{class:"row mt-5 text-center"},[Object(r["g"])("div",{class:"col-6 offset-3"},[Object(r["g"])("a",{href:"/src/assets/csv-sample.csv",target:"_blank"},"Example CSV")])],-1),i={class:"py-5"},p=Object(r["g"])("div",{class:"row mt-5"},[Object(r["g"])("div",{class:"col-8 offset-2"},[Object(r["g"])("h4",null,"Example:"),Object(r["g"])("pre",null,[Object(r["g"])("code",{class:"html"},'<vue-csv-import\n    v-slot="{file}"\n    v-model="csv"\n    :fields="{name: {required: false, label: \'Name\'}, age: {required: true, label: \'Age\'}}"\n>\n    <vue-csv-toggle-headers></vue-csv-toggle-headers>\n    <vue-csv-errors></vue-csv-errors>\n    <vue-csv-input></vue-csv-input>\n    <vue-csv-map :auto-match="false"></vue-csv-map>\n</vue-csv-import>')])])],-1),v={class:"row mt-5"},d={class:"col-8 offset-2"},b=Object(r["g"])("h4",{class:"mb-4"},"Result:",-1),f={key:0,class:"mt-15"};function m(e,t,n,a,s,m){var g=Object(r["p"])("vue-csv-errors"),j=Object(r["p"])("vue-csv-toggle-headers"),O=Object(r["p"])("vue-csv-input"),y=Object(r["p"])("vue-csv-map"),h=Object(r["p"])("vue-csv-submit"),C=Object(r["p"])("vue-csv-import");return Object(r["j"])(),Object(r["d"])("div",u,[c,Object(r["g"])("div",l,[o,Object(r["g"])("section",i,[p,Object(r["g"])("div",v,[Object(r["g"])("div",d,[b,Object(r["g"])(C,{modelValue:s.csv,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.csv=e}),fields:{name:{required:!1,label:"Name"},age:{required:!0,label:"Age"}}},{default:Object(r["t"])((function(e){e.file;return[Object(r["g"])(g),Object(r["g"])(j),Object(r["g"])(O),Object(r["g"])(y,{"auto-match":!1}),Object(r["g"])(h,{url:"/"})]})),_:1},8,["modelValue"]),s.csv?(Object(r["j"])(),Object(r["d"])("pre",f,[Object(r["g"])("code",null,Object(r["q"])(s.csv),1)])):Object(r["e"])("",!0)])])])])])}n("4160"),n("159b");var g=n("1487"),j=n.n(g);n("2c43");function O(e){return{subLanguage:"xml",contains:[e.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:/^(\s*)(<script>)/gm,end:/^(\s*)(<\/script>)/gm,subLanguage:"javascript",excludeBegin:!0,excludeEnd:!0},{begin:/^(\s*)(<script lang=["']ts["']>)/gm,end:/^(\s*)(<\/script>)/gm,subLanguage:"typescript",excludeBegin:!0,excludeEnd:!0},{begin:/^(\s*)(<style(\sscoped)?>)/gm,end:/^(\s*)(<\/style>)/gm,subLanguage:"css",excludeBegin:!0,excludeEnd:!0},{begin:/^(\s*)(<style lang=["'](scss|sass)["'](\sscoped)?>)/gm,end:/^(\s*)(<\/style>)/gm,subLanguage:"scss",excludeBegin:!0,excludeEnd:!0},{begin:/^(\s*)(<style lang=["']stylus["'](\sscoped)?>)/gm,end:/^(\s*)(<\/style>)/gm,subLanguage:"stylus",excludeBegin:!0,excludeEnd:!0}]}}O(j.a);var y={name:"App",data:function(){return{csv:null}},mounted:function(){document.querySelectorAll("pre code").forEach((function(e){j.a.highlightBlock(e)}))}};n("db1b");y.render=m;var h=y,C=(n("a766"),n("4245")),x=n.n(C);function V(e,t,n,a,s,u){return Object(r["o"])(e.$slots,"default",{errors:a.VueCsvImportData.errors,fields:a.VueCsvImportData.fields,file:a.VueCsvImportData.file})}n("d81d");var I=n("e726"),H=n.n(I),w=n("2657"),D=n.n(w),k=n("6cd4"),M=n.n(k),q=n("9b02"),S=n.n(q),A=n("6747"),B=n.n(A),E=n("dd61"),T=n.n(E),_=n("0f5c"),L=n.n(_),R={errors:{fileRequired:"A file is required",invalidMimeType:"Invalid file type"},toggleHeaders:"File has headers",submitBtn:"Submit",fieldColumn:"Field",csvColumn:"Column"},$=function(e){return B()(e)?T()(e,(function(e){return{key:e,label:e,required:!0}})):T()(e,(function(e,t){return{key:t,label:S()(e,"label",e),required:S()(e,"required",!0)}}))},F={props:{modelValue:Array,fields:{type:[Object,Array],required:!0},text:{default:function(){return{}}}},setup:function(e,t){var n=t.emit,a=Object(r["l"])({errors:[],inputName:"csv",file:null,map:{},value:{},fields:$(e.fields),fileHasHeaders:null,csvSample:null,rawCsv:null,language:x()({},R,e.text),firstSampleRow:Object(r["b"])((function(){return B()(a.csvSample)&&B()(a.csvSample[0])?a.csvSample[0]:null})),allFieldsAreMapped:Object(r["b"])((function(){return D()(a.fields,(function(e){return"undefined"!==typeof a.map[e.key]||!e.required}))}))}),s=function(){var e=a.fileHasHeaders?a.rawCsv:H()(a.rawCsv);a.value=T()(e,(function(e){var t={};return M()(a.map,(function(n,r){L()(t,r,S()(e,n))})),t})),n("update:modelValue",a.value)};return Object(r["k"])("VueCsvImportData",a),Object(r["k"])("buildMappedCsv",s),{VueCsvImportData:a}}};F.render=V;var P=F;function N(e,t,n,a,s,u){return Object(r["o"])(e.$slots,"default",{errors:a.VueCsvImportData.errors.value},(function(){return[(Object(r["j"])(!0),Object(r["d"])(r["a"],null,Object(r["n"])(a.VueCsvImportData.errors,(function(t){return Object(r["j"])(),Object(r["d"])("span",e.$attrs,Object(r["q"])(t),17)})),256))]}))}var U={name:"VueCsvFiles",props:{parseConfig:{type:Object,default:function(){return{}}},fileMimeTypes:{type:Array,default:function(){return["text/csv","text/x-csv","application/vnd.ms-excel","text/plain"]}}},setup:function(){var e=Object(r["h"])("VueCsvImportData");return{VueCsvImportData:e}}};U.render=N;var J=U;n("b0c0");function z(e,t,n,a,s,u){return Object(r["o"])(e.$slots,"default",{file:a.file,change:a.change},(function(){return[Object(r["g"])("input",Object(r["i"])({ref:"csvRef",type:"file",onChange:t[1]||(t[1]=function(){return a.change&&a.change.apply(a,arguments)}),name:n.name},e.$attrs),null,16,["name"])]}))}n("caad"),n("2532");var G=n("369b"),K=n.n(G),Q=(n("ac1f"),n("1276"),n("74c8")),W=n.n(Q),X={"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]}};function Y(e){if(!e||"string"!==typeof e)return!1;var t=e.split(".").pop();return t&&W()(X,(function(e){return e.extensions.includes(t)}))||!1}var Z={name:"CsvFile",props:{name:{type:String,default:"csv"},headers:{type:[Boolean,null],default:!0},parseConfig:{type:Object,default:function(){return{}}},validation:{type:Boolean,default:!0},fileMimeTypes:{type:Array,default:function(){return["text/csv","text/x-csv","application/vnd.ms-excel","text/plain"]}}},setup:function(e){var t=Object(r["m"])(null),n=Object(r["h"])("VueCsvImportData"),a=Object(r["h"])("buildMappedCsv"),s=n.language;n.inputName=name,n.fileHasHeaders=null!==e.headers?!!e.headers:null;var u=function(t){if(n.errors=[],t||n.errors.push(s.errors.fileRequired),e.validation){var r=""===t.type?Y(t.name):t.type;return e.fileMimeTypes.includes(r)||n.errors.push(s.errors.invalidMimeType),0===n.errors.length}return!0},c=function(){var e=t.value.files?t.value.files[0]:null;u(e)&&(n.file=e)};return Object(r["s"])((function(){return n.file}),(function(t){t||(n.csvSample.value=null,n.rawCsv.value=null);var r=new FileReader;r.readAsText(n.file,"UTF-8"),r.onload=function(t){n.csvSample=S()(K.a.parse(t.target.result,x()({preview:2,skipEmptyLines:!0},e.parseConfig)),"data"),n.rawCsv=S()(K.a.parse(t.target.result,x()({skipEmptyLines:!0},e.parseConfig)),"data")},r.onerror=function(e){console.log(e)}}),{deep:!0}),Object(r["s"])((function(){return n.fileHasHeaders}),(function(){n.allFieldsAreMapped&&a()})),{file:n.file,change:c,csvRef:t}}};Z.render=z;var ee=Z,te={key:0},ne={key:0,value:null};function re(e,t,n,a,s,u){return Object(r["o"])(e.$slots,"default",{sample:a.VueCsvImportData.firstSampleRow,map:a.VueCsvImportData.map,fields:a.VueCsvImportData.fields},(function(){return[a.VueCsvImportData.firstSampleRow?(Object(r["j"])(),Object(r["d"])("table",Object(r["i"])({key:0},e.$attrs),[n.noThead?Object(r["e"])("",!0):(Object(r["j"])(),Object(r["d"])("thead",te,[Object(r["g"])("tr",null,[Object(r["g"])("th",null,Object(r["q"])(a.labels.fieldColumn),1),Object(r["g"])("th",null,Object(r["q"])(a.labels.csvColumn),1)])])),Object(r["g"])("tbody",null,[(Object(r["j"])(!0),Object(r["d"])(r["a"],null,Object(r["n"])(a.VueCsvImportData.fields,(function(e,t){return Object(r["j"])(),Object(r["d"])("tr",{key:t},[Object(r["g"])("td",null,Object(r["q"])(e.label),1),Object(r["g"])("td",null,[Object(r["u"])(Object(r["g"])("select",Object(r["i"])(n.selectAttributes,{name:"csv_uploader_map_".concat(t),"onUpdate:modelValue":function(t){return a.VueCsvImportData.map[e.key]=t}}),[e.required?Object(r["e"])("",!0):(Object(r["j"])(),Object(r["d"])("option",ne," ")),(Object(r["j"])(!0),Object(r["d"])(r["a"],null,Object(r["n"])(a.VueCsvImportData.firstSampleRow,(function(e,t){return Object(r["j"])(),Object(r["d"])("option",{key:t,value:t},Object(r["q"])(e),9,["value"])})),128))],16,["name","onUpdate:modelValue"]),[[r["r"],a.VueCsvImportData.map[e.key]]])])])})),128))])],16)):Object(r["e"])("",!0)]}))}n("498a");var ae={name:"CsvMap",props:{noThead:{type:Boolean,default:!1},selectAttributes:{type:Object,default:function(){return{}}},autoMatch:{type:Boolean,default:!0},autoMatchIgnoreCase:{type:Boolean,default:!0}},setup:function(e){var t=Object(r["h"])("VueCsvImportData"),n=Object(r["h"])("buildMappedCsv"),a=t.language;return Object(r["s"])((function(){return t.map}),(function(){t.allFieldsAreMapped&&n()}),{deep:!0}),e.autoMatch&&Object(r["s"])((function(){return t.csvSample}),(function(n){n&&t.fields.forEach((function(r){n[0].forEach((function(n,a){var s=e.autoMatchIgnoreCase?r.label.toLowerCase().trim():r.label.trim(),u=e.autoMatchIgnoreCase?n.toLowerCase().trim():n.trim();s===u&&(t.map[r.key]=a)}))}))})),{VueCsvImportData:t,labels:a}}};ae.render=re;var se=ae;function ue(e,t,n,a,s,u){return Object(r["o"])(e.$slots,"submit",{submit:a.submit,mappedCsv:a.VueCsvImportData.value},(function(){return[Object(r["g"])("button",Object(r["i"])({type:"submit"},e.$attrs,{onClick:t[1]||(t[1]=Object(r["v"])((function(){return a.submit&&a.submit.apply(a,arguments)}),["prevent"]))}),Object(r["q"])(a.labels.submitBtn),17)]}))}n("d3b7");var ce=n("ade3"),le=n("bc3a"),oe=n.n(le),ie={name:"VueCsvImportSubmit",props:{url:{type:String,required:!0}},setup:function(e){var t=Object(r["h"])("VueCsvImportData"),n=Object(r["h"])("buildMappedCsv"),a=t.language,s=function(){n(),oe.a.post(e.url,Object(ce["a"])({},t.inputName,t.value)).then((function(e){emit("send-success",e)})).catch((function(e){emit("send-error",e)})).finally((function(e){emit("send-complete",e)}))};return{submit:s,VueCsvImportData:t,labels:a}}};ie.render=ue;var pe=ie;function ve(e,t,n,a,s,u){return Object(r["o"])(e.$slots,"default",{headers:a.VueCsvImportData.fileHasHeaders,toggle:a.toggleHasHeaders},(function(){return[Object(r["g"])("label",n.labelAttributes,[Object(r["g"])("input",Object(r["i"])({type:"checkbox"},n.checkboxAttributes,{value:a.VueCsvImportData.fileHasHeaders,onChange:t[1]||(t[1]=function(){return a.toggleHasHeaders&&a.toggleHasHeaders.apply(a,arguments)})}),null,16,["value"]),Object(r["f"])(" "+Object(r["q"])(a.labels.toggleHeaders),1)],16)]}))}var de={name:"ToggleHasHeaders",props:{labelAttributes:{},checkboxAttributes:{}},setup:function(){var e=Object(r["h"])("VueCsvImportData"),t=e.language,n=function(){e.fileHasHeaders=!e.fileHasHeaders};return{VueCsvImportData:e,toggleHasHeaders:n,labels:t}}};de.render=ve;var be=de,fe={install:function(e,t){t=x()({components:{"vue-csv-import":"vue-csv-import","vue-csv-errors":"vue-csv-errors","vue-csv-input":"vue-csv-input","vue-csv-map":"vue-csv-map","vue-csv-submit":"vue-csv-submit","vue-csv-toggle-headers":"vue-csv-toggle-headers"}},t),e.component(t.components["vue-csv-import"],P),e.component(t.components["vue-csv-errors"],J),e.component(t.components["vue-csv-input"],ee),e.component(t.components["vue-csv-map"],se),e.component(t.components["vue-csv-submit"],pe),e.component(t.components["vue-csv-toggle-headers"],be)}};Object(r["c"])(h).use(fe).mount("#app")},a557:function(e,t,n){},a766:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},db1b:function(e,t,n){"use strict";n("a557")}});
//# sourceMappingURL=app.343157af.js.map